<!DOCTYPE html>
<html lang="zh-CN">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge,Chrome=1">
		<title>纯js数组去重</title>
		<!--
		<link rel="icon" href="">
		<link rel="stylesheet" href="">
		-->
		<style>
			.p1{
				font-size: 30px;
				text-align: center;
				color: #fff00;
			}
		</style>
	</head>
	<body>
		<p class="p1">使用js数组去重多种方法</p>
		<div>
			<p>var arr=[1,2,2,3,3,3,1,2,2,3,3,3]去重后得到var tmp=[1,2,3]</p>
		</div>
	</body>
	<script>
	(function(){
		test1();
		test2();
		test3();
	})();
	function test1(){
		console.log("方法1:该方法只能去除相邻相同的数组");
		//console.log("test");
		var arr=[1,1,2,2,3,3,4,4,4,5,5,6,7,7,8,9];
		var tmp=[];
		console.log("arr原数组:"+arr);
		console.log(arr.length);
		var j=0;
		for(var i=0;i<arr.length;i++){
			if(arr[i]!=arr[i+1]){
				tmp[j]=arr[i];
				j++;
			}
		}

		console.log("tmp新数组:"+tmp);
		console.log("tmp新数组的长度:"+tmp.length);
	}
	function test2(){
		console.log("方法2:数组去重");
		var arr=[3,1,2,2,3,3,3,1,2,2,3,3,3];
		//var arr=[1,2,3,1,2,3,2,3,2,3,3,3,4,4];
		var tmp=[];
		var n=0;
		var flag=false;
		tmp[n]=arr[0];
		console.log("arr原数组:"+arr);
		console.log("arr原数组长度"+arr.length);
		for(var i=1;i<arr.length;i++){
			for(var j=0;j<=n;j++){
				if(arr[i]!=tmp[j]){
					flag=true;
				}else{
					flag=false;
					break;
				}
			}
			if(flag){
				n++;
				tmp[n]=arr[i];//或tmp.push(arr[i]);
			}
		}
		console.log("tmp新数组:"+tmp);
		console.log("tmp新数组的长度:"+tmp.length);
	}
	function test3(){
		console.log("方法2:数组去重");
		var arr=[3,1,2,2,3,3,3,1,2,2,3,3,3];
		console.log("arr原数组:"+arr);
		console.log("arr原数组长度"+arr.length);
		var tmp=[];
		function fun(args){
			for(var i=0;i<args.length;i++){
				if(tmp.indexOf(args[i])<0){//indexOf搜索数组中的元素,并返回它所在的位置.
					tmp.push(args[i]);//push(),向数组的末尾添加一个或多个元素,并返回新的长度.
				}
			}
			return tmp;
		}
		tmp=fun(arr);
		console.log("tmp新数组:"+tmp);
		console.log("tmp新数组的长度:"+tmp.length);
	}
	</script>
</html>